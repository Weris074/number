<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ò–≥—Ä–∞ –£–≥–∞–¥–∞–π –ß–∏—Å–ª–æ</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
            background-image: linear-gradient(to right bottom, #ffd700, #ffa500); /* –¶–≤–µ—Ç —Ñ–æ–Ω–∞ */
            animation: bg-pulse 10s infinite alternate;
        }
        
        @keyframes bg-pulse {
            from {background-position: 0%;}
            to {background-position: 100%; transform: scale(1.05);}
        }
        
        h1 {
            color: white;
            font-size: 3rem;
            letter-spacing: 2px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        input[type=number], button {
            padding: 20px;
            font-size: 20px;
            border-radius: 15px;
            outline: none;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.2);
            transition: all 0.3s ease-in-out;
            cursor: pointer;
        }
        
        input[type=number]:hover,
        button:hover {
            background-color: #fffaf0;
            transform: scale(1.05);
        }
        
        input[type=number]:focus,
        button:focus {
            background-color: #ffe4b5;
        }
        
        p#result {
            font-weight: bold;
            color: green;
            font-size: 1.5rem;
            animation: pulse 1s infinite alternate;
        }
        
        @keyframes pulse {
            from {transform: scale(1)}
            to {transform: scale(1.05)}
        }
        
        p#message {
            font-style: italic;
            color: white;
            font-size: 1.2rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        
        ul#clues-list li {
            list-style-type: circle;
            line-height: 1.5em;
            color: #ffffff;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        
        .green-text { color: limegreen !important; }
        .yellow-text { color: gold !important; }
        .blue-text { color: dodgerblue !important; }
        .red-text { color: tomato !important; }
    </style>
</head>
<body>

<h1>üéâ –ò–≥—Ä–∞ ¬´–£–≥–∞–¥–∞–π —á–∏—Å–ª–æ!¬ª üéâ</h1>
<p id="message">–ü–æ–ø—Ä–æ–±—É–π —É–≥–∞–¥–∞—Ç—å —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 100!</p>
<input type="number" min="1" max="100" placeholder="–í–≤–µ–¥–∏ —á–∏—Å–ª–æ..." id="guessInput">
<button onclick="checkGuess()">‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å!</button><br><br>
<button onclick="resetGame()">üîÑ Reset Game</button>
<p id="result"></p>
<div style="margin-top: 20px;">–ü–æ–¥—Å–∫–∞–∑–∫–∏:</div>
<ul id="clues-list"></ul>

<script>
let targetNumber = null;
let attempts = 0;
let history = []; // –ò—Å—Ç–æ—Ä–∏—è —Ä–∞–Ω–µ–µ –≤–≤–µ–¥—ë–Ω–Ω—ã—Ö —á–∏—Å–µ–ª
let clues = [];
let availableClueOptions = []; // –ú–∞—Å—Å–∏–≤ –ø–æ–¥—Å–∫–∞–∑–æ–∫ –¥–ª—è —Ç–µ–∫—É—â–µ–π –∏–≥—Ä—ã

// –§—É–Ω–∫—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —á–∏—Å–ª–∞
function generateRandomNumber() {
    return Math.floor(Math.random() * 100) + 1;
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Å—Ç–æ–≥–æ —á–∏—Å–ª–∞
function isPrime(num) {
    for (let i = 2, s = Math.sqrt(num); i <= s; i++) {
        if (num % i === 0) return false;
    }
    return num > 1;
}

// –ù–∞–π—Ç–∏ –±–ª–∏–∂–∞–π—à–µ–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ, –±–ª–∏–∑–∫–æ–µ –∫ –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–º—É –∫–æ—Ä–Ω—é
function closestSquareRoot(num) {
    return Math.round(Math.sqrt(num));
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø–æ–¥—Å–∫–∞–∑–æ–∫ –¥–ª—è –Ω–æ–≤–æ–π –∏–≥—Ä—ã
function initializeClueOptions() {
    // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤ –ø–æ–¥—Å–∫–∞–∑–æ–∫, –∑–∞–≤–∏—Å—è—â–∏–π –æ—Ç targetNumber
    availableClueOptions = [
        () => `–ß–∏—Å–ª–æ —Ç–æ—á–Ω–æ –±–æ–ª—å—à–µ ${Math.min(targetNumber - 10, targetNumber - 1 > 1 ? targetNumber - 1 : 1)}`,
        () => `–ß–∏—Å–ª–æ —Ç–æ—á–Ω–æ –º–µ–Ω—å—à–µ ${Math.max(targetNumber + 10, targetNumber + 1 < 100 ? targetNumber + 1 : 100)}`,
        () => `–≠—Ç–æ —á–∏—Å–ª–æ –±–ª–∏–∂–µ –≤—Å–µ–≥–æ –∫ –∫–≤–∞–¥—Ä–∞—Ç—É —á–∏—Å–ª–∞ ${closestSquareRoot(targetNumber)}`,
    ];

    if (targetNumber % 2 === 0) {
        availableClueOptions.push(() => `–≠—Ç–æ —á–∏—Å–ª–æ —á—ë—Ç–Ω–æ–µ`);
    } else {
        availableClueOptions.push(() => `–≠—Ç–æ —á–∏—Å–ª–æ –Ω–µ—á—ë—Ç–Ω–æ–µ`);
    }

    if (isPrime(targetNumber)) {
        availableClueOptions.push(() => `–≠—Ç–æ —á–∏—Å–ª–æ –ø—Ä–æ—Å—Ç–æ–µ`);
    }
}

// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∑–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏–≥—Ä—É
function setupGame() {
    targetNumber = generateRandomNumber();
    attempts = 0;
    history = [];
    clues = [];
    initializeClueOptions(); // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø–æ–¥—Å–∫–∞–∑–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–æ–≤–æ–≥–æ targetNumber
    updateClues(); // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –ø–æ–¥—Å–∫–∞–∑–æ–∫ (–æ–Ω –±—É–¥–µ—Ç –ø—É—Å—Ç—ã–º –≤ –Ω–∞—á–∞–ª–µ)
    console.log("–ó–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ:", targetNumber); // –î–ª—è –æ—Ç–ª–∞–¥–∫–∏
}

setupGame(); // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

// –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–≤–æ–¥–∞
function checkGuess() {
    const guessInput = document.getElementById('guessInput');
    const guess = parseInt(guessInput.value.trim(), 10);
    const resultElement = document.getElementById('result');
    const messageElement = document.getElementById('message');

    if (!guess || isNaN(guess) || guess < 1 || guess > 100) {
        alert("–ù—É–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 100!");
        guessInput.value = '';
        return;
    }

    if (history.includes(guess)) {
        resultElement.classList.remove('green-text', 'yellow-text', 'blue-text');
        resultElement.classList.add('red-text');
        resultElement.textContent = `–¢—ã —É–∂–µ —ç—Ç–æ —á–∏—Å–ª–æ –≤–≤–æ–¥–∏–ª! –ü–æ–ø—Ä–æ–±—É–π –¥—Ä—É–≥–æ–µ.`;
        guessInput.value = '';
        return;
    }

    attempts++;
    history.push(guess);

    if (guess === targetNumber) {
        resultElement.classList.remove('yellow-text', 'blue-text', 'red-text');
        resultElement.classList.add('green-text');
        resultElement.textContent = `üéâ –í–µ—Ä–Ω–æ! –¢—ã —É–≥–∞–¥–∞–ª —á–∏—Å–ª–æ ${targetNumber}. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫: ${attempts} üéâ`;
        messageElement.style.display = 'none';
        guessInput.disabled = true; // –û—Ç–∫–ª—é—á–∞–µ–º –≤–≤–æ–¥ –ø–æ—Å–ª–µ –ø–æ–±–µ–¥—ã
    } else if (guess > targetNumber) {
        resultElement.classList.remove('green-text', 'yellow-text', 'blue-text');
        resultElement.classList.add('red-text');
        resultElement.textContent = `–ù–µ–≤–µ—Ä–Ω–æ! –°–¥–µ–ª–∞–π —á–∏—Å–ª–æ –ø–æ–º–µ–Ω—å—à–µ.`;
    } else {
        resultElement.classList.remove('green-text', 'yellow-text', 'red-text');
        resultElement.classList.add('blue-text');
        resultElement.textContent = `–ù–µ–≤–µ—Ä–Ω–æ! –°–¥–µ–ª–∞–π —á–∏—Å–ª–æ –ø–æ–±–æ–ª—å—à–µ.`;
    }

    updateClues();
    guessInput.value = ''; // –û—á–∏—â–∞–µ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –ø–æ–ø—ã—Ç–∫–∏
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–¥—Å–∫–∞–∑–æ–∫
function updateClues() {
    let cluesElement = document.getElementById('clues-list');
    cluesElement.innerHTML = '';

    // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ–µ –µ—â–µ –Ω–µ—Ç –∏ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ
    if (clues.length < attempts && availableClueOptions.length > 0) {
        let randomIndex = Math.floor(Math.random() * availableClueOptions.length);
        let newClue = availableClueOptions.splice(randomIndex, 1)[0]; 
        clues.push(newClue());
    }

    clues.forEach((clue, index) => {
        let item = document.createElement('li');
        item.textContent = `${index + 1}) ${clue}`;
        cluesElement.appendChild(item);
    });
}

// –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∏–≥—Ä—ã
function resetGame() {
    setupGame(); // –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–≥—Ä—ã
    const resultElement = document.getElementById('result');
    const messageElement = document.getElementById('message');
    const guessInput = document.getElementById('guessInput');

    resultElement.textContent = '';
    resultElement.classList.remove('green-text', 'yellow-text', 'blue-text', 'red-text');
    messageElement.style.display = '';
    messageElement.textContent = '–ü–æ–ø—Ä–æ–±—É–π —É–≥–∞–¥–∞—Ç—å —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 100!';
    guessInput.value = '';
    guessInput.disabled = false; // –í–∫–ª—é—á–∞–µ–º –≤–≤–æ–¥
}

</script>

</body>
</html>